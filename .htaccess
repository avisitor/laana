<IfModule mod_rewrite.c>
RewriteEngine On

# Handle /api and /api/ requests - rewrite to api.php and preserve path and query string
RewriteRule ^api(/.*)?$ api.php$1 [L,QSA]

# Generic rule: append .php to requests for non-existent files/directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^\.]+)$ $1.php [L]

</IfModule>
